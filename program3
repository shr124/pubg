package com.example.mohan.dbapp;
import android.app.Notification;
import android.app.NotificationManager;
import android.app.PendingIntent;
import android.content.Intent;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Toast;
import static android.os.Build.VERSION_CODES.M;
public class MainActivity extends AppCompatActivity {
 DatabaseHealper mDatabaseHealper;
 private Button btnAdd, btnViewData;
 private EditText editText;
 @Override
 protected void onCreate(Bundle savedInstanceState) {
 super.onCreate(savedInstanceState);
 setContentView(R.layout.activity_main);
 editText= (EditText) findViewById(R.id.editText);
 btnAdd= (Button) findViewById(R.id.addbut);
 btnViewData= (Button) findViewById(R.id.savebut);
 mDatabaseHealper=new DatabaseHealper(this);
 btnAdd.setOnClickListener(new View.OnClickListener() {
 @Override
 public void onClick(View v) {
 String newEntry=editText.getText().toString();
 if(editText.length() !=0){
 AddData(newEntry);
 editText.setText("");
 }else{
 toastMessage("Enter Data");
 }
 }
 });
 btnViewData.setOnClickListener(new View.OnClickListener() {
 @Override
 public void onClick(View v) {
 Intent intent=new Intent(MainActivity.this,ListDataActivity.class);
 startActivity(intent);
 }
 });
 }
 public void AddData(String newEntry){
 boolean insertData=mDatabaseHealper.addData(newEntry);
 if(insertData){
 toastMessage("Data Succesfully Inserted");
 }else{ toastMessage("Something Went Wrong"); }
 }
 private void toastMessage(String message){
 Toast.makeText(this,message,Toast.LENGTH_SHORT).show();
 }
}
ListDataActivity.java
package com.example.mohan.dbapp;
import android.database.Cursor;
import android.os.Bundle;
import android.support.annotation.Nullable;
import android.support.v7.app.AppCompatActivity;
import android.util.Log;
import android.widget.ArrayAdapter;
import android.widget.ListAdapter;
import android.widget.ListView;
import android.widget.Toast;
import java.util.ArrayList;
import static android.icu.lang.UCharacter.GraphemeClusterBreak.L;
public class ListDataActivity extends AppCompatActivity {
 private static final String TAG="ListDataActivity";
 DatabaseHealper mDatabaseHelper;
 private ListView mlistView;
 @Override
 protected void onCreate(@Nullable Bundle savedInstanceState) {
 super.onCreate(savedInstanceState);
 setContentView(R.layout.list_layout);
 mlistView= (ListView) findViewById(R.id.listView);
 mDatabaseHelper=new DatabaseHealper(this);
 populateListView();
 }
 private void populateListView() {
 Log.d(TAG,"Populate ListView: Displaying data in ListView");
 Cursor data=mDatabaseHelper.getData();
 ArrayList<String> listData=new ArrayList<>();
 while(data.moveToNext()){
 listData.add(data.getString(1));
 }
 ListAdapter adapter=new ArrayAdapter<>(this,android.R.layout.simple_list_item_1,listData);
 mlistView.setAdapter(adapter);
 }
 private void toastMessage(String message){
 Toast.makeText(this,message,Toast.LENGTH_SHORT).show();
 }
}
DatabaseHealper.java
package com.example.mohan.dbapp;
import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;
import android.util.Log;
import static android.R.attr.publicKey;
import static android.R.attr.version;
public class DatabaseHealper extends SQLiteOpenHelper {
 private static final String TAG="DatabaseHealper";
 private static final String TABLE_NAME = "employees";
 private static final String COL1="ID";
 private static final String COL2="name";
 public DatabaseHealper(Context context){ //}, String name, SQLiteDatabase.CursorFactory factory, int version) {
 super(context, TABLE_NAME, null, 1);
 }
 @Override
 public void onCreate(SQLiteDatabase db) {
 String createTable = "CREATE TABLE "+TABLE_NAME +" (ID INTEGER PRIMARY KEY
AUTOINCREMENT,"+COL2+" TEXT)";
 db.execSQL(createTable);
 }
 @Override
 public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
 }
 public boolean addData(String item){
 SQLiteDatabase db=this.getWritableDatabase();
 ContentValues contentValues=new ContentValues();
 contentValues.put(COL2,item);
 Log.d(TAG,"addData: Adding "+item+" to "+TABLE_NAME);
 Long result=db.insert(TABLE_NAME,null,contentValues);
 if(result == -1) {
 return false;
 }else{
 return true;
 }
 }
 public Cursor getData(){
 SQLiteDatabase db=this.getWritableDatabase();
 String query="SELECT * FROM "+TABLE_NAME;
 Cursor data=db.rawQuery(query,null);
 return data;
 }
}
Activity_mail.xml
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
 xmlns:app="http://schemas.android.com/apk/res-auto"
 xmlns:tools="http://schemas.android.com/tools"
 android:layout_width="match_parent"
 android:layout_height="match_parent"
 tools:context="com.example.mohan.dbapp.MainActivity">
 <RelativeLayout
 android:layout_width="match_parent"
 android:layout_height="match_parent"
 android:layout_alignParentLeft="true"
 android:layout_alignParentStart="true"
 android:layout_marginTop="34dp">
 <Button
 android:id="@+id/addbut"
 android:layout_width="wrap_content"
 android:layout_height="wrap_content"
 android:text="ADD"
 tools:layout_editor_absoluteX="140dp"
 tools:layout_editor_absoluteY="185dp" />
 <Button
 android:id="@+id/savebut"
 android:layout_width="wrap_content"
 android:layout_height="wrap_content"
 android:layout_alignBottom="@+id/addbut"
 android:layout_marginLeft="21dp"
 android:layout_marginStart="21dp"
 android:layout_toEndOf="@+id/addbut"
 android:layout_toRightOf="@+id/addbut"
 android:text="VIEW DATA" />
 </RelativeLayout>
 <EditText
 android:id="@+id/editText"
 android:layout_width="wrap_content"
 android:layout_height="wrap_content"
 android:layout_alignParentLeft="true"
 android:layout_alignParentStart="true"
 android:layout_alignParentTop="true"
 android:layout_marginLeft="17dp"
 android:layout_marginStart="17dp"
 android:ems="10"
 android:inputType="textPersonName"
 android:text="Name" />
</RelativeLayout>
list_layout.xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
 android:orientation="vertical" android:layout_width="match_parent"
 android:layout_height="match_parent">
 <ListView
 android:layout_width="match_parent"
 android:layout_height="match_parent"
 android:id="@+id/listView"
 />
</LinearLayout>
